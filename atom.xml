<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://guozhaoning.github.io</id>
    <title>guozhaoning</title>
    <updated>2021-03-02T16:20:17.506Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://guozhaoning.github.io"/>
    <link rel="self" href="https://guozhaoning.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://guozhaoning.github.io/images/avatar.png</logo>
    <icon>https://guozhaoning.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, guozhaoning</rights>
    <entry>
        <title type="html"><![CDATA[Objectå®ä¾‹å ç”¨å¤šå°‘å­—èŠ‚]]></title>
        <id>https://guozhaoning.github.io/post/object-shi-li-zhan-yong-duo-shao-zi-jie/</id>
        <link href="https://guozhaoning.github.io/post/object-shi-li-zhan-yong-duo-shao-zi-jie/">
        </link>
        <updated>2021-03-02T16:16:11.000Z</updated>
        <content type="html"><![CDATA[<p>objectç”±ä»€ä¹ˆç»„æˆ</p>
<p>å¯¹è±¡å¤´---64ä½--8ä¸ªå­—èŠ‚</p>
<p>ç±»å‹æŒ‡é’ˆ---jvmå¤šå°‘ä½å°±æ˜¯å¤šå°‘ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯jvmè™šæ‹Ÿæœºé»˜è®¤å¼€å¯äº†å‹ç¼©ï¼Œæ‰€æœ‰é»˜è®¤64ä½è¢«å‹ç¼©æˆäº†32ä½ï¼Œä¹Ÿå°±æ˜¯4ä¸ªå­—èŠ‚</p>
<p>å®ä¾‹æ•°æ®---å¦‚æœå¯¹è±¡çš„å®ä¾‹æœ‰æ•°æ®ï¼Œåˆ™æ•°æ®æœ‰å¤šå°‘ä¸ªå­—èŠ‚å°±æ˜¯å¤šå°‘ï¼Œè¿™ä¸ªè¢«ç§°ä¸ºoopsï¼Œnewä¸€ä¸ªå¯¹è±¡æ²¡æœ‰å­—èŠ‚</p>
<p>å¯¹é½---å‘ä¸Šè¡¥é½åˆ°8çš„å€æ•°ï¼Œæ¯”å¦‚ä¸Šä¸‰ä¸ªæ•°å­—åŠ èµ·æ¥ä¸º12ï¼Œåˆ™å¯¹é½æ•°ä¸º4ï¼Œ16ä¸º8çš„å€æ•°</p>
<p>æ‰€ä»¥ Object o = new Object(); oæœ‰16ä¸ªå­—èŠ‚ 8+4+0+4</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[# Servletæ ¸å¿ƒæºç ç†è§£]]></title>
        <id>https://guozhaoning.github.io/post/servlet-he-xin-yuan-ma-li-jie/</id>
        <link href="https://guozhaoning.github.io/post/servlet-he-xin-yuan-ma-li-jie/">
        </link>
        <updated>2021-02-26T12:37:48.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æŠ½è±¡ç±»ä¸å¿…å…¨éƒ¨å®ç°æ¥å£ä¸­çš„æ–¹æ³•</p>
</blockquote>
<h2 id="æºç ">æºç </h2>
<h3 id="æŠ½è±¡æ¥å£-httpservlet">æŠ½è±¡æ¥å£ HttpServlet</h3>
<pre><code class="language-java">package javax.servlet.http;

import java.io.IOException;
import java.io.Serializable;
import java.lang.reflect.Method;
import java.text.MessageFormat;
import java.util.Enumeration;
import java.util.ResourceBundle;
import javax.servlet.GenericServlet;
import javax.servlet.ServletException;
import javax.servlet.ServletOutputStream;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public abstract class HttpServlet extends GenericServlet
  implements Serializable
{
  private static final String METHOD_DELETE = &quot;DELETE&quot;;
  private static final String METHOD_HEAD = &quot;HEAD&quot;;
  private static final String METHOD_GET = &quot;GET&quot;;
  private static final String METHOD_OPTIONS = &quot;OPTIONS&quot;;
  private static final String METHOD_POST = &quot;POST&quot;;
  private static final String METHOD_PUT = &quot;PUT&quot;;
  private static final String METHOD_TRACE = &quot;TRACE&quot;;
  private static final String HEADER_IFMODSINCE = &quot;If-Modified-Since&quot;;
  private static final String HEADER_LASTMOD = &quot;Last-Modified&quot;;
  private static final String LSTRING_FILE = &quot;javax.servlet.http.LocalStrings&quot;;
  private static ResourceBundle lStrings = ResourceBundle.getBundle(&quot;javax.servlet.http.LocalStrings&quot;);

  protected void doGet(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String protocol = req.getProtocol();
    String msg = lStrings.getString(&quot;http.method_get_not_supported&quot;);
    if (protocol.endsWith(&quot;1.1&quot;))
      resp.sendError(405, msg);
    else
      resp.sendError(400, msg);
  }

  protected long getLastModified(HttpServletRequest req)
  {
    return -1L;
  }

  protected void doHead(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    NoBodyResponse response = new NoBodyResponse(resp);

    doGet(req, response);
    response.setContentLength();
  }

  protected void doPost(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String protocol = req.getProtocol();
    String msg = lStrings.getString(&quot;http.method_post_not_supported&quot;);
    if (protocol.endsWith(&quot;1.1&quot;))
      resp.sendError(405, msg);
    else
      resp.sendError(400, msg);
  }

  protected void doPut(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String protocol = req.getProtocol();
    String msg = lStrings.getString(&quot;http.method_put_not_supported&quot;);
    if (protocol.endsWith(&quot;1.1&quot;))
      resp.sendError(405, msg);
    else
      resp.sendError(400, msg);
  }

  protected void doDelete(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String protocol = req.getProtocol();
    String msg = lStrings.getString(&quot;http.method_delete_not_supported&quot;);
    if (protocol.endsWith(&quot;1.1&quot;))
      resp.sendError(405, msg);
    else
      resp.sendError(400, msg);
  }

  private static Method[] getAllDeclaredMethods(Class c)
  {
    if (c.equals(HttpServlet.class)) {
      return null;
    }

    Method[] parentMethods = getAllDeclaredMethods(c.getSuperclass());
    Method[] thisMethods = c.getDeclaredMethods();

    if ((parentMethods != null) &amp;&amp; (parentMethods.length &gt; 0)) {
      Method[] allMethods = new Method[parentMethods.length + thisMethods.length];

      System.arraycopy(parentMethods, 0, allMethods, 0, parentMethods.length);

      System.arraycopy(thisMethods, 0, allMethods, parentMethods.length, thisMethods.length);

      thisMethods = allMethods;
    }

    return thisMethods;
  }

  protected void doOptions(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    Method[] methods = getAllDeclaredMethods(getClass());

    boolean ALLOW_GET = false;
    boolean ALLOW_HEAD = false;
    boolean ALLOW_POST = false;
    boolean ALLOW_PUT = false;
    boolean ALLOW_DELETE = false;
    boolean ALLOW_TRACE = true;
    boolean ALLOW_OPTIONS = true;

    for (int i = 0; i &lt; methods.length; i++) {
      Method m = methods[i];

      if (m.getName().equals(&quot;doGet&quot;)) {
        ALLOW_GET = true;
        ALLOW_HEAD = true;
      }
      if (m.getName().equals(&quot;doPost&quot;))
        ALLOW_POST = true;
      if (m.getName().equals(&quot;doPut&quot;))
        ALLOW_PUT = true;
      if (m.getName().equals(&quot;doDelete&quot;)) {
        ALLOW_DELETE = true;
      }
    }
    String allow = null;
    if ((ALLOW_GET) &amp;&amp; 
      (allow == null)) allow = &quot;GET&quot;;
    if (ALLOW_HEAD)
      if (allow == null) allow = &quot;HEAD&quot;; else
        allow = allow + &quot;, HEAD&quot;;
    if (ALLOW_POST)
      if (allow == null) allow = &quot;POST&quot;; else
        allow = allow + &quot;, POST&quot;;
    if (ALLOW_PUT)
      if (allow == null) allow = &quot;PUT&quot;; else
        allow = allow + &quot;, PUT&quot;;
    if (ALLOW_DELETE)
      if (allow == null) allow = &quot;DELETE&quot;; else
        allow = allow + &quot;, DELETE&quot;;
    if (ALLOW_TRACE)
      if (allow == null) allow = &quot;TRACE&quot;; else
        allow = allow + &quot;, TRACE&quot;;
    if (ALLOW_OPTIONS) {
      if (allow == null) allow = &quot;OPTIONS&quot;; else
        allow = allow + &quot;, OPTIONS&quot;;
    }
    resp.setHeader(&quot;Allow&quot;, allow);
  }

  protected void doTrace(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String CRLF = &quot;\r\n&quot;;
    String responseString = &quot;TRACE &quot; + req.getRequestURI() + &quot; &quot; + req.getProtocol();

    Enumeration reqHeaderEnum = req.getHeaderNames();

    while (reqHeaderEnum.hasMoreElements()) {
      String headerName = (String)reqHeaderEnum.nextElement();
      responseString = responseString + CRLF + headerName + &quot;: &quot; + req.getHeader(headerName);
    }

    responseString = responseString + CRLF;

    int responseLength = responseString.length();

    resp.setContentType(&quot;message/http&quot;);
    resp.setContentLength(responseLength);
    ServletOutputStream out = resp.getOutputStream();
    out.print(responseString);
    out.close();
  }

  protected void service(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException
  {
    String method = req.getMethod();

    if (method.equals(&quot;GET&quot;)) {
      long lastModified = getLastModified(req);
      if (lastModified == -1L)
      {
        doGet(req, resp);
      } else {
        long ifModifiedSince = req.getDateHeader(&quot;If-Modified-Since&quot;);
        if (ifModifiedSince &lt; lastModified / 1000L * 1000L)
        {
          maybeSetLastModified(resp, lastModified);
          doGet(req, resp);
        } else {
          resp.setStatus(304);
        }
      }
    }
    else if (method.equals(&quot;HEAD&quot;)) {
      long lastModified = getLastModified(req);
      maybeSetLastModified(resp, lastModified);
      doHead(req, resp);
    }
    else if (method.equals(&quot;POST&quot;)) {
      doPost(req, resp);
    }
    else if (method.equals(&quot;PUT&quot;)) {
      doPut(req, resp);
    }
    else if (method.equals(&quot;DELETE&quot;)) {
      doDelete(req, resp);
    }
    else if (method.equals(&quot;OPTIONS&quot;)) {
      doOptions(req, resp);
    }
    else if (method.equals(&quot;TRACE&quot;)) {
      doTrace(req, resp);
    }
    else
    {
      String errMsg = lStrings.getString(&quot;http.method_not_implemented&quot;);
      Object[] errArgs = new Object[1];
      errArgs[0] = method;
      errMsg = MessageFormat.format(errMsg, errArgs);

      resp.sendError(501, errMsg);
    }
  }

  private void maybeSetLastModified(HttpServletResponse resp, long lastModified)
  {
    if (resp.containsHeader(&quot;Last-Modified&quot;))
      return;
    if (lastModified &gt;= 0L)
      resp.setDateHeader(&quot;Last-Modified&quot;, lastModified);
  }

  public void service(ServletRequest req, ServletResponse res)
    throws ServletException, IOException
  {
    HttpServletRequest request;
    HttpServletResponse response;
    try
    {
      request = (HttpServletRequest)req;
      response = (HttpServletResponse)res;
    } catch (ClassCastException e) {
      throw new ServletException(&quot;non-HTTP request or response&quot;);
    }
    service(request, response);
  }
}
</code></pre>
<h3 id="æŠ½è±¡ç±»-genericservlet">æŠ½è±¡ç±» GenericServlet</h3>
<pre><code class="language-java">package javax.servlet;

import java.io.IOException;
import java.io.Serializable;
import java.util.Enumeration;

public abstract class GenericServlet
  implements Servlet, ServletConfig, Serializable
{
  private transient ServletConfig config;

  public void destroy()
  {
  }

  public String getInitParameter(String name)
  {
    return getServletConfig().getInitParameter(name);
  }

  public Enumeration getInitParameterNames()
  {
    return getServletConfig().getInitParameterNames();
  }

  public ServletConfig getServletConfig()
  {
    return this.config;
  }

  public ServletContext getServletContext()
  {
    return getServletConfig().getServletContext();
  }

  public String getServletInfo()
  {
    return &quot;&quot;;
  }

  public void init(ServletConfig config)
    throws ServletException
  {
    this.config = config;
    init();
  }

  public void init()
    throws ServletException
  {
  }

  public void log(String msg)
  {
    getServletContext().log(getServletName() + &quot;: &quot; + msg);
  }

  public void log(String message, Throwable t)
  {
    getServletContext().log(getServletName() + &quot;: &quot; + message, t);
  }

  public abstract void service(ServletRequest paramServletRequest, ServletResponse paramServletResponse)
    throws ServletException, IOException;

  public String getServletName()
  {
    return this.config.getServletName();
  }
}
</code></pre>
<h3 id="æŠ½è±¡æ¥å£servlet">æŠ½è±¡æ¥å£Servlet</h3>
<pre><code class="language-java">package javax.servlet;

import java.io.IOException;

public abstract interface Servlet
{
  public abstract void init(ServletConfig paramServletConfig)
    throws ServletException;

  public abstract ServletConfig getServletConfig();

  public abstract void service(ServletRequest paramServletRequest, ServletResponse paramServletResponse)
    throws ServletException, IOException;

  public abstract String getServletInfo();

  public abstract void destroy();
}
</code></pre>
<h3 id="æŠ½è±¡æ¥å£servletconfig">æŠ½è±¡æ¥å£ServletConfig</h3>
<pre><code class="language-java">package javax.servlet;

import java.util.Enumeration;

public abstract interface ServletConfig
{
  public abstract String getServletName();

  public abstract ServletContext getServletContext();

  public abstract String getInitParameter(String paramString);

  public abstract Enumeration getInitParameterNames();
}
</code></pre>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5Cguozhaoning%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200427000248145.png" alt="image-20200427000248145" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://guozhaoning.github.io/post/hello-gridea/</id>
        <link href="https://guozhaoning.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>